<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Reference · XAMAuxData.jl</title><meta name="title" content="Reference · XAMAuxData.jl"/><meta property="og:title" content="Reference · XAMAuxData.jl"/><meta property="twitter:title" content="Reference · XAMAuxData.jl"/><meta name="description" content="Documentation for XAMAuxData.jl."/><meta property="og:description" content="Documentation for XAMAuxData.jl."/><meta property="twitter:description" content="Documentation for XAMAuxData.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">XAMAuxData.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Reference</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Reference</a></li></ul></nav><div class="docs-right"><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Reference"><a class="docs-heading-anchor" href="#Reference">Reference</a><a id="Reference-1"></a><a class="docs-heading-anchor-permalink" href="#Reference" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XAMAuxData.AuxTag" href="#XAMAuxData.AuxTag"><code>XAMAuxData.AuxTag</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">AuxTag(::Union{String, SubString{String}})
AuxTag(::Char, ::Char)
AuxTag(::UInt8, ::UInt8)</code></pre><p>The type of a key of <code>Auxiliary</code>. This type is lightweight, and validates that the key is of appropriate format. <code>Auxiliary</code> can also be modified using strings as keys, which will be converted to <code>AuxTag</code>, but this may cause a needless allocation of the string.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; AuxTag(&quot;AC&quot;)
AuxTag(&quot;AC&quot;)

julia&gt; AuxTag(&#39;k&#39;, &#39;w&#39;)
AuxTag(&quot;kw&quot;)

julia&gt; AuxTag(&quot;1C&quot;) # invalid tag
ERROR: Invalid AuxTag. Tags must conform to r&quot;^[A-Za-z][A-Za-z0-9]$&quot;.
[...]</code></pre></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XAMAuxData.Hex" href="#XAMAuxData.Hex"><code>XAMAuxData.Hex</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Hex(v::AbstractVector{UInt8})</code></pre><p>Wrapper type around a byte vector. When this type is assigned to an Auxiliary, it is encoded as a hex value (type tag <code>H</code>) as opposed to a raw byte array ( type tag <code>B</code>).</p><pre><code class="language-julia-repl hljs">julia&gt; aux = SAM.Auxiliary(UInt8[], 1);

julia&gt; aux[&quot;AB&quot;] = Hex([0xae, 0xf8, 0x6c]);

julia&gt; String(MemoryView(aux))
&quot;AB:H:AEF86C&quot;

julia&gt; aux = BAM.Auxiliary(UInt8[], 1);

julia&gt; aux[&quot;AB&quot;] = Hex([0xae, 0xf8, 0x6c]);

julia&gt; String(MemoryView(aux))
&quot;ABHAEF86C\0&quot;</code></pre></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XAMAuxData.Errors.Error" href="#XAMAuxData.Errors.Error"><code>XAMAuxData.Errors.Error</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Error</code></pre><p>Enum type representing errors returned when loading invalid auxiliary data values. The errors are <em>nonexhausitve</em> - more might be added in a non-breaking release.</p><p>The following errors may contained in <code>AbstractAuxiliary</code> instead of the real value:</p><ul><li><code>InvalidTypeTag</code> (SAM only): An aux value with an unknown type</li><li><code>InvalidArrayEltype</code> (SAM only): A <code>B</code> value with an unknown element type</li><li><code>InvalidInt</code> (SAM only): An integer that can&#39;t be parsed to an <code>Int32</code></li><li><code>InvalidFloat</code> (SAM only): A float that can&#39;t be parsed to a <code>Float32</code></li><li><code>InvalidChar</code>: Loading a <code>Char</code> not in <code>&#39;!&#39;:&#39;~&#39;</code></li><li><code>InvalidString</code>: A string that contains a character not in <code>re&quot;[ !-~]&quot;</code></li><li><code>InvalidHex</code>: a <code>H</code> value with an odd number of symbols, or symbol not in <code>re&quot;[0-9A-F]&quot;</code></li><li><code>InvalidArray</code>: A malformed <code>B</code> value</li></ul><p>See also: <a href="#XAMAuxData.Errors"><code>Errors</code></a></p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XAMAuxData.Errors" href="#XAMAuxData.Errors"><code>XAMAuxData.Errors</code></a> — <span class="docstring-category">Module</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Errors</code></pre><p>Module containing the error values of XAMAuxData.</p><p>See also: <a href="#XAMAuxData.Errors.Error"><code>Error</code></a></p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XAMAuxData.SAM.Auxiliary" href="#XAMAuxData.SAM.Auxiliary"><code>XAMAuxData.SAM.Auxiliary</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">SAM.Auxiliary{T &lt;: AbstractVector{UInt8}} &lt;: AbstractDict{AuxTag, Any}</code></pre><p>Lazily loaded <code>AbstractDict</code> representing the auxiliary data fields of a SAM record. Immutable aux&#39;s can be constructed with <code>Auxiliary(x)</code> for any <code>x</code> with <code>MemoryView(x)</code> defined. Mutable aux data is constructed with <code>Auxiliary(x::Vector{UInt8}, start::Int)</code>, where <code>start</code> gives the first index of the used data in <code>x</code> - all data before <code>start</code> will be ignored and never modified.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; immut = SAM.Auxiliary(&quot;KJ:i:-1	AB:Z:abc&quot;);

julia&gt; immut[&quot;KJ&quot;]
-1

julia&gt; haskey(immut, &quot;AB&quot;)
true</code></pre><p><strong>Extended help</strong></p><p>Since fields of <code>Auxiliary</code> are lazily loaded, auxiliaries may contain invalid data even after successful construction. <code>Auxiliary</code> operates with two distinct notions of invalid data - malformedness and invalidness. See <a href="#XAMAuxData.is_well_formed"><code>is_well_formed</code></a> for their definitions.</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XAMAuxData.BAM.Auxiliary" href="#XAMAuxData.BAM.Auxiliary"><code>XAMAuxData.BAM.Auxiliary</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">BAM.Auxiliary{T &lt;: AbstractVector{UInt8}} &lt;: AbstractDict{AuxTag, Any}</code></pre><p>Lazily loaded <code>AbstractDict</code> representing the auxiliary data fields of a BAM record. Immutable aux&#39;s can be constructed with <code>Auxiliary(x)</code> for any <code>x</code> with <code>MemoryView(x)</code> defined. Mutable aux data is constructed with <code>Auxiliary(x::Vector{UInt8}, start::Int)</code>, where <code>start</code> gives the first index of the used data in <code>x</code> - all data before <code>start</code> will be ignored and never modified.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; immut = BAM.Auxiliary(&quot;KJS\0ABZabc\0&quot;);

julia&gt; immut[&quot;KJ&quot;]
0x0007

julia&gt; haskey(immut, &quot;AB&quot;)
true</code></pre><p><strong>Extended help</strong></p><p><strong>Extended help</strong></p><p>Since fields of <code>Auxiliary</code> are lazily loaded, auxiliaries may contain invalid data even after successful construction. <code>Auxiliary</code> operates with two distinct notions of invalid data - malformedness and invalidness. See <a href="#XAMAuxData.is_well_formed"><code>is_well_formed</code></a> for their definitions. ```</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XAMAuxData.is_well_formed" href="#XAMAuxData.is_well_formed"><code>XAMAuxData.is_well_formed</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">is_well_formed(aux::AbstractAuxiliary) -&gt; Bool</code></pre><p>Check if the auxiliary is well formed. <code>AbstractAuxiliary</code> distinguishes two ways their data can be incorrect: If the data is corrupted such that it is not possible to identify the key, or start/end of the encoded data of the value for a key/value pair, we say the auxiliary is malformed. Accessing values, or iterating such an auxiliary may or may not throw an exception. This notion of malformedness is what this function checks for.</p><p>Alternatively, if the keys and encoded values <em>can</em> be identified, but the encoded values are corrupt and the value cannot be loaded, we say the auxiliary is invalid. Such auxiliaries can be iterated over, and the values can be loaded, although the loaded value will be of type <a href="#XAMAuxData.Errors.Error"><code>XAMAuxData.Error</code></a>. This can be checked for with <code>isvalid</code>. Valid auxiliaries are always well-formed.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; aux = SAM.Auxiliary(&quot;KM:i:252\tAK::C&quot;); # bad key

julia&gt; is_well_formed(aux)
false

julia&gt; aux[&quot;KM&quot;] # loading a value may error
252

julia&gt; aux[&quot;AK&quot;] # loading a value may error
ERROR: Invalid SAM tag header. Expected &lt;AuxTag&gt;:&lt;type tag&gt;:, but found no colons.
[...]

julia&gt; aux = SAM.Auxiliary(&quot;AB:Z:αβγδ\tCD:f:-1.2&quot;); # bad value encoding

julia&gt; (is_well_formed(aux), isvalid(aux))
(true, false)

julia&gt; aux[&quot;AB&quot;] # note: numerical value of enum is not API
InvalidString::Error = 9</code></pre></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.isvalid-Tuple{XAMAuxData.AbstractAuxiliary}" href="#Base.isvalid-Tuple{XAMAuxData.AbstractAuxiliary}"><code>Base.isvalid</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">isvalid(aux::AbstractAuxiliary) -&gt; Bool</code></pre><p>Check if the auxiliary is well formed, and that all the values can be loaded without returning an <a href="#XAMAuxData.Errors.Error"><code>XAMAuxData.Error</code></a>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; aux = SAM.Auxiliary(&quot;AB:i:not an integer&quot;);

julia&gt; is_well_formed(aux)
true

julia&gt; isvalid(aux)
false</code></pre><p>See also: <a href="#XAMAuxData.is_well_formed"><code>is_well_formed</code></a></p></div></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.7.0 on <span class="colophon-date" title="Friday 18 October 2024 09:16">Friday 18 October 2024</span>. Using Julia version 1.11.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
